(this.webpackJsonpexercise2=this.webpackJsonpexercise2||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),c=t.n(o),u=t(14),l=t(2),i=function(e){return r.a.createElement("div",null,r.a.createElement("p",null," ",e.name," "),r.a.createElement("input",{className:"search",value:e.value,onChange:e.onChange}))},m=function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.onSubmit},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:e.namevalue,onChange:e.onChangeName})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:e.numbervalue,onChange:e.onChangeNumber})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))))},s=t(3),f=t.n(s),d=function(e){return r.a.createElement("div",null,e.personsToShow.map((function(n,t){return r.a.createElement("div",{key:n.id},"  ",n.name,"  ",n.number,r.a.createElement("button",{onClick:function(){return function(n){var t=e.personsToShow.filter((function(e){return e.id===n}));if(console.log(t),window.confirm("delete ".concat(t[0].name," from contacts ?"))){console.log("delete record with id ".concat(n));var a="http://localhost:3001/persons/".concat(n);f.a.delete(a).then((function(t){e.func(e.personsToShow.filter((function(e){return e.id!==n})))})).catch((function(n){e.err("".concat(t[0].name," has already been removed from server!!")),setTimeout((function(){e.err(null)}),5e3)}))}}(n.id)}},"delete"))})))},h=function(){return f.a.get("/api/persons")},b=function(e){return f.a.post("/api/persons",e)},v=(t(37),function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(""),s=Object(l.a)(c,2),v=s[0],p=s[1],E=Object(a.useState)(""),g=Object(l.a)(E,2),j=g[0],w=g[1],O=Object(a.useState)(""),S=Object(l.a)(O,2),C=S[0],N=S[1],T=Object(a.useState)(t),k=Object(l.a)(T,2),y=k[0],x=k[1],A=Object(a.useState)(!0),J=Object(l.a)(A,2),B=J[0],D=J[1],I=Object(a.useState)(null),P=Object(l.a)(I,2),q=P[0],z=P[1];Object(a.useEffect)((function(){h().then((function(e){o(e.data)}))}),[]);var F=function(e){return null===e.message?null:(console.log(e.message),r.a.createElement("div",{className:"error"},e.message))};return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Phonebook"),r.a.createElement(F,{message:q}),r.a.createElement(i,{name:"filter shown with",value:C,onChange:function(e){var n=e.target.value;N(n),D(!1);var a=t.filter((function(e){return e.name.includes(n)}));x(a)}}),r.a.createElement("h3",null,"Add a new Name "),r.a.createElement(m,{onSubmit:function(e){e.preventDefault();var n={name:v.trim(),number:j.trim()},a=t.find((function(e){return e.name===v.trim()}));if(console.log(a),a){if(!0===window.confirm("".concat(a.name.trim()," is already added to the phonebook,replace old number with the new one ?"))){var r=a.id,c="http://localhost:3001/persons/".concat(r),l=Object(u.a)({},a,{number:j});f.a.put(c,l).then((function(e){o(t.map((function(n){return n.id!==r?n:e.data})))})),z("Changed ".concat(v,"'s  phone number to ").concat(j)),setTimeout((function(){z(null)}),5e3),p(""),w("")}}else b(n).then((function(e){o(t.concat(e.data))})),z("Added ".concat(v)),setTimeout((function(){z(null)}),5e3),p(""),w("")},namevalue:v,numbervalue:j,onChangeName:function(e){p(e.target.value)},onChangeNumber:function(e){w(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(d,{func:o,err:z,personsToShow:B?t:y}))});c.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.c0c61eae.chunk.js.map