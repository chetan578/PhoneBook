{"version":3,"sources":["components/Filter.js","components/FormPerson.js","components/Person.js","services/persons.js","App.js","index.js"],"names":["Filter","props","name","className","value","onChange","FormsPerson","onSubmit","namevalue","onChangeName","numbervalue","onChangeNumber","type","Person","personsToShow","map","x","id","key","number","onClick","nameOfPerson","filter","p","console","log","window","confirm","url","axios","delete","then","response","func","catch","error","err","setTimeout","deleteRecord","get","obj","post","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filtername","setfilterName","setPersonsToShow","showAll","setshowAll","message","setMessage","useEffect","Service","data","Notification","content","event","target","result","includes","preventDefault","trim","samePerson","find","toLowerCase","changedPerson","put","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.82ef82ea.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter=(props)=>{\r\n    return(\r\n      <div>\r\n    <p> {props.name} </p>\r\n    <input  className='search' value={props.value} \r\n      onChange={props.onChange}\r\n      />\r\n      </div>\r\n    )\r\n  }\r\n  export default Filter \r\n  ","import React from 'react'\r\n\r\nconst FormsPerson=(props)=>{\r\n    return(\r\n      <div>\r\n        <form onSubmit={props.onSubmit}>\r\n          <div>\r\n            name: <input value={props.namevalue}\r\n            onChange={props.onChangeName}/>\r\n          </div>\r\n          <div>\r\n            number: <input value={props.numbervalue}\r\n            onChange={props.onChangeNumber}/>\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n  export default FormsPerson","import axios from 'axios'\r\nimport React from 'react' \r\n\r\nconst Person=(props)=>{\r\n    const deleteRecord=(id)=>{\r\n      const nameOfPerson=props.personsToShow.filter(p=>p.id===id)\r\n      console.log(nameOfPerson)\r\n      const result =window.confirm(`delete ${nameOfPerson[0].name} from contacts ?`)\r\n      if(result)\r\n      {\r\n      console.log(`delete record with id ${id}`)\r\n      const url=`http://localhost:3001/api/persons/${id}`\r\n      axios.delete(url)\r\n      .then(response=>{\r\n        props.func(props.personsToShow.filter(p=>p.id!==id))\r\n      })\r\n      .catch(error=>{\r\n      props.err(`${nameOfPerson[0].name} has already been removed from server!!`)\r\n       setTimeout(()=>{\r\n      props.err(null)\r\n       },5000) \r\n      })\r\n    }\r\n    }  \r\n          return(\r\n          <div>\r\n            {props.personsToShow.map((x,id)=>\r\n        <div key={x.id}>  {x.name}  {x.number}\r\n        <button onClick={()=>deleteRecord(x.id)}>delete</button>\r\n        </div>\r\n        )}\r\n          </div>\r\n        )\r\n      }\r\n      export default Person","import axios from 'axios'\r\nconst baseUrl='/api/persons'\r\n\r\nconst getDetails=()=>{\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst pushDetails=(obj)=>{\r\n    return axios.post(baseUrl,obj)\r\n}\r\n\r\nexport default { getDetails,pushDetails}\r\n","import React,{useState,useEffect} from 'react';\r\nimport Filter from './components/Filter'\r\nimport FormsPerson from './components/FormPerson'\r\nimport Person from './components/Person'\r\nimport Service from './services/persons'\r\nimport axios from 'axios';\r\nimport './index.css'\r\n\r\nconst App = () => {\r\n    // yeh wala usestate array of objects hai logo ki details ka \r\n    const [ persons, setPersons ] = useState([])\r\n    // isko mujhe dusre module mai use karna hai to delete record \r\n    const [newName, setNewName ] = useState('')\r\n    const [newNumber,setNewNumber]=useState('')\r\n    const[filtername,setfilterName]=useState('')\r\n    let [personsToShow,setPersonsToShow]=useState(persons)\r\n    const [showAll,setshowAll]=useState(true)\r\n    const[message,setMessage]=useState(null)\r\n     useEffect(()=>{\r\n     Service.getDetails().then(response=>{\r\n       setPersons(response.data);\r\n     })\r\n     },[])\r\n  \r\n    const handleName=(event)=>{\r\n      setNewName(event.target.value)\r\n    }\r\n    const handleNumber=(event)=>{\r\n      setNewNumber(event.target.value)\r\n    }\r\n  \r\n    const handlefilterName=(event)=>{\r\n      let value=event.target.value\r\n      setfilterName(value)\r\n      setshowAll(false)\r\n      const result=persons.filter(x=>x.name.includes(value))\r\n      setPersonsToShow(result)\r\n      }\r\n  \r\n    const addNameandNumber=(event)=>{\r\n      event.preventDefault()\r\n      const obj={\r\n        name:newName.trim(),\r\n        number:newNumber.trim()\r\n      }\r\n      const samePerson =persons.find(p=>p.name.toLowerCase()===obj.name)\r\n      console.log(samePerson)\r\n    if(samePerson){\r\nconst result= window.confirm(`${samePerson.name.trim()} is already added to the phonebook,replace old number with the new one ?`)\r\n        if(result===true)\r\n        {\r\n        const id=samePerson.id\r\n        const url=`http://localhost:3001/api/persons/${id}`\r\n        const changedPerson={...samePerson,number:newNumber}\r\n        axios.put(url,changedPerson).then(response=>{\r\n            setPersons(persons.map(p=>p.id!==id?p:response.data))\r\n        })\r\n      setMessage(`Changed ${newName}'s  phone number to ${newNumber}`)\r\n      setTimeout(()=>{\r\n        setMessage(null)\r\n      },5000)\r\n       setNewName('')\r\n       setNewNumber('')\r\n        }\r\n      }\r\n      else{\r\n      Service.pushDetails(obj)\r\n      .then(response=>{\r\n        setPersons(persons.concat(response.data))\r\n      })\r\n      setMessage(`Added ${newName.trim()}`)\r\n      setTimeout(()=>{\r\n        setMessage(null)\r\n      },5000)\r\n\r\n      setNewName('')\r\n      setNewNumber('')\r\n    }\r\n    }\r\n    const Notification=(props)=>{\r\n      if(props.message===null)\r\n      return null\r\n      console.log(props.message)\r\n      return(\r\n        <div className='error'>\r\n          {props.message}\r\n        </div>\r\n      )\r\n   \r\n  }\r\n    return (\r\n      <div className='container'>\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\r\n        <h1>Phonebook</h1>\r\n        <Notification message={message} />\r\n        <Filter name='filter shown with'\r\n        value={filtername} onChange={handlefilterName}/>\r\n  \r\n        <h3>Add a new Name </h3>\r\n      <FormsPerson onSubmit={addNameandNumber}\r\n      namevalue ={newName} numbervalue={newNumber} onChangeName={handleName} \r\n      onChangeNumber={handleNumber}/>\r\n  \r\n        <h2>Numbers</h2>   \r\n        <Person func={setPersons} err={setMessage} personsToShow={showAll?persons:personsToShow}  />\r\n        </div> \r\n    )\r\n  }\r\n  export default App ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(<App />,document.getElementById('root'))"],"sourceRoot":""}